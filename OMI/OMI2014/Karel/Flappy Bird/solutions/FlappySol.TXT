iniciar-programa
    define-nueva-instruccion este como inicio
        mientras no-orientado-al-este hacer inicio
            gira-izquierda;
        fin;
    fin;
    define-nueva-instruccion sur como inicio
        mientras no-orientado-al-sur hacer inicio
            gira-izquierda;
        fin;
    fin;
    define-nueva-instruccion tope como inicio
        mientras frente-libre hacer inicio
            avanza;
        fin;
    fin;
    define-nueva-instruccion norte como inicio
        mientras no-orientado-al-norte hacer inicio
            gira-izquierda;
        fin;
    fin;
    define-nueva-instruccion oeste como inicio
        mientras no-orientado-al-oeste hacer inicio
            gira-izquierda;
        fin;
    fin;
    define-nueva-instruccion buscaBeeper como inicio
        mientras frente-libre y no-junto-a-zumbador hacer inicio
            avanza;
        fin;
    fin;
    define-nueva-instruccion marca como inicio
        norte;
        si frente-libre entonces inicio
            avanza;
            si frente-libre entonces inicio
                avanza;
                este;
                si frente-libre entonces inicio
                    avanza;
                    si no-junto-a-zumbador entonces inicio
                        deja-zumbador;
                    fin;
                    oeste;
                    avanza;
                    sur;
                    avanza;
                    avanza;
                fin sino inicio
                    sur;
                    avanza;
                    avanza;
                fin;
            fin sino inicio
                sur;
                avanza;
            fin;
        fin;

        sur;
        si frente-libre entonces inicio
            avanza;
            este;
            si frente-libre entonces inicio
                avanza;
                si no-junto-a-zumbador entonces inicio
                    deja-zumbador;
                fin;
                oeste;
                avanza;
                norte;
                avanza;
            fin sino inicio
                norte;
                avanza;
            fin;
        fin;
        norte;
    fin;
    define-nueva-instruccion pasa como inicio
        sur;
        tope;
        norte;
        mientras frente-libre y derecha-bloqueada hacer inicio
            avanza;
        fin;
        si derecha-libre entonces inicio
            este;
            avanza;
            sur;
            tope;
            norte;
            mientras frente-libre y no-junto-a-zumbador hacer inicio
                avanza;
            fin;
            si junto-a-zumbador entonces inicio
                sur;
                tope;
                norte;
            fin sino inicio
                sur;
                tope;
                norte;
                mientras izquierda-bloqueada hacer inicio
                    avanza;
                fin;
                oeste;
                avanza;
                sur;
                tope;
            fin;
        fin sino inicio
            sur;
            tope;
        fin;
    fin;


    inicia-ejecucion
        este;
        deja-zumbador;
        sur;
        tope;
        norte;

        mientras orientado-al-norte hacer inicio
            buscaBeeper;
            mientras frente-libre hacer inicio
                si junto-a-zumbador entonces inicio
                    marca;
                fin;
                avanza;
            fin;
            si junto-a-zumbador entonces inicio
                marca;
            fin;
            pasa;
        fin;
        apagate;
    termina-ejecucion
finalizar-programa

